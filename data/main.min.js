!function(){"use strict";function e(){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(e.readyState==XMLHttpRequest.DONE){var t=e.responseText.trim();document.getElementById("esp-id").innerHTML=t,document.getElementById("esp-id-input").value=t,document.title=t+" (ESP8266)"}},e.open("GET","id.json",!0),e.send()}function t(){var e=new XMLHttpRequest;e.onreadystatechange=function(){e.readyState==XMLHttpRequest.DONE&&r("relay-1",e.responseText.trim())},e.open("GET","getRelay1",!0),e.send()}function n(){var e=new XMLHttpRequest;e.onreadystatechange=function(){e.readyState==XMLHttpRequest.DONE&&r("relay-2",e.responseText.trim())},e.open("GET","getRelay2",!0),e.send()}function o(){var e=new XMLHttpRequest;e.onreadystatechange=function(){e.readyState==XMLHttpRequest.DONE&&(document.getElementById("temp").innerHTML=e.responseText.trim())},e.open("GET","getTemp",!0),e.send()}function d(){var e=new XMLHttpRequest;e.onreadystatechange=function(){e.readyState==XMLHttpRequest.DONE&&(document.getElementById("toggle-button").innerHTML=e.responseText.trim())},e.open("GET","getToggleButton",!0),e.send()}function c(){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(e.readyState==XMLHttpRequest.DONE){var t=JSON.parse(e.responseText);document.getElementById("rgb").innerHTML=t.r+", "+t.g+", "+t.b}},e.open("GET","getRgb",!0),e.send()}function l(){var e=document.getElementById("r").value,t=document.getElementById("g").value,n=document.getElementById("b").value;document.getElementById("rgb").innerHTML=e+", "+t+", "+n,s("/setRgb?r="+e+"&g="+t+"&b="+n),c()}function s(e,t){var n=new XMLHttpRequest;void 0!==t&&(n.onreadystatechange=t(n)),n.open("GET",e,!0),n.send()}function r(e,t){document.getElementById(e).innerHTML=t}e(),document.getElementById("esp-id").onclick=function(){document.getElementById("esp-id").style.display="none",document.getElementById("esp-id-input").style.display="block"},document.getElementById("esp-id-input").onkeypress=function(e){if(13==e.keyCode){var t=document.getElementById("esp-id-input").value.trim();return s("/setId?id="+t),document.getElementById("esp-id").innerHTML=t,document.title=t+" (ESP8266)",document.getElementById("esp-id").style.display="block",document.getElementById("esp-id-input").style.display="none",!1}},document.getElementById("refresh-relay-1").onclick=t,t(),setInterval(t,5400),document.getElementById("refresh-relay-2").onclick=n,n(),setInterval(n,5300),document.getElementById("refresh-temp").onclick=o,o(),setInterval(o,5e3),document.getElementById("refresh-toggle-button").onclick=d,d(),setInterval(d,5100),document.getElementById("refresh-rgb").onclick=c,setInterval(c,5200),c(),document.getElementById("set-rgb").onclick=l,document.getElementById("cycle-colors").onclick=function(){s("cycleColors")},document.getElementById("set-relay-1-high").onclick=function(){s("setRelay1High"),r("relay-1","1")},document.getElementById("set-relay-1-low").onclick=function(){s("setRelay1Low"),r("relay-1","0")},document.getElementById("set-relay-2-high").onclick=function(){s("setRelay2High"),r("relay-2","1")},document.getElementById("set-relay-2-low").onclick=function(){s("setRelay2Low"),r("relay-2","0")}}();